{% extends "layout.html" %}
{% load i18n %}
{% load humanize %}


{% block title %}
    {% trans "Podcast" %}
{% endblock title %}


{% block content %}
    <h2 class="text-center my-5">{% trans "Podcast list" %} - {% trans "page" %} {{podcasts.number|apnumber}} </h2>
    {% if podcasts %}
        <article class="d-flex flex-wrap justify-content-center  gap-3">   
        {% for podcast in podcasts %}
            <section class='card width'>
                <img src="{{podcast.banner.url}}" alt="{{podcast.title}}" class="card-img-top"/>
                <div  class="d-flex flex-column justify-content-between card-body text-center">
                    <h3>{{podcast.title}}</h3>
                    <p class='w-100 mx-auto my-5'>{{podcast.description|truncatewords:30}}</p>
                    <address>{% trans "Created by" %} {{podcast.podcaster}}</address>
                    <a class='btn btn-dark w-100' href="{{podcast.get_absolute_url}}">{% trans "More" %}</a>

                </div>
            </section>
        {% endfor %}
        </article>
    {% else %}
        <h3> {% trans "There is no Podcast to show" %} </h3>
    {% endif %}
    <footer class="">{% comment %} paginator {% endcomment %}
        {% if podcasts.has_other_pages %}
            <ul class="d-flex list-unstyled my-5 justify-content-center flex-wrap">
                {% if podcasts.has_previous %}
                <li><a class='active btn btn-dark'  href="?page={{podcasts.previous_page_number}}">&lt;</a></li>
                {% else %}
                <li class="mx-1 disabled btn btn-secondary"><span>&lt;</span></li>
                {% endif %}
    
                {% for page_number in podcasts.paginator.page_range %}
                    {% if podcasts.number == page_number %}
                    <li class="active btn btn-dark "><span>{{page_number}}</span></li>
                    {% else %}
                    <li class=''><a class='btn' href="?page={{page_number}}">{{page_number}}</a></li>
                    {% endif %}
                {% endfor %}
                
                {% if podcasts.has_next %}
                <li class='mx-1 ' ><a class='active btn btn-dark' href="?page={{podcasts.next_page_number}}">&gt;</a></li>
                {% else %}
                <li class="mx-1 disabled btn btn-secondary"><span>&gt;</span></li>
                {% endif %}
            </ul>
        {% endif %}
    </footer>
{% endblock content %}